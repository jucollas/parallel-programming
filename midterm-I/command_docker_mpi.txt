sudo docker build -t debian-mpi .

docker network create --subnet=172.25.0.0/16 mpi-network

sudo docker run -itd --name mpi1 --network mpi-network --ip 172.25.0.2 -v ../midterm-I:/home/workspace debian-mpi
sudo docker run -itd --name mpi2 --network mpi-network --ip 172.25.0.3 -v ../midterm-I:/home/workspace debian-mpi
sudo docker run -itd --name mpi3 --network mpi-network --ip 172.25.0.4 -v ../midterm-I:/home/workspace debian-mpi

En todo los nodos:

sudo docker exec -it mpi1 bash
useradd -m -s /bin/bash mpiuser
echo "mpiuser:mpiuser" | chpasswd
su mpiuser
ssh-keygen -t rsa -b 2048 -N "" -f ~/.ssh/id_rsa 


Desde nodo padre:
password: mpiuser
ssh-copy-id -i ~/.ssh/id_rsa.pub mpiuser@172.25.0.3
ssh-copy-id -i ~/.ssh/id_rsa.pub mpiuser@172.25.0.4


ssh root@172.25.0.3 -> verfica conexion desde el padre
ssh root@172.25.0.4


mpic++ -Wall -O2 -o bin/mpi_filter apps/mpi_filterer.cpp src/base/imageFile.cpp src/base/map.cpp src/base/processor.cpp src/engines/distributedEngine.cpp src/engines/sequentialEngine.cpp src/images/ppmFile.cpp src/images/pgmFile.cpp src/pixel/grayPixel.cpp src/pixel/RGBPixel.cpp src/filters.cpp src/utils.cpp src/base/pixel.cpp
mpirun -np 3 --hostfile hosts bin/mpi_filter 






